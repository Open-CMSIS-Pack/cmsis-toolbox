<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Build Information Files - CMSIS-Toolbox</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Build Information Files";
        var mkdocs_page_input_path = "YML-CBuild-Format.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> CMSIS-Toolbox
        </a>
        <div class="version">
          2.13.0
        </div><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../overview/">Overview</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../installation/">Installation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../build-tools/">Build Tools</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../build-overview/">CSolution Project Structure</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../YML-Input-Format/">CSolution Project Format</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../CreateApplications/">Create Applications</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../ReferenceApplications/">Reference Applications</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Build Information Files</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#directory-structure">Directory Structure</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#lock-pack-versions">Lock Pack Versions</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#file-format">File Format</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#cbuild-idxyml">*.cbuild-idx.yml</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#cbuildyml">*.cbuild.yml</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#cbuild-packyml">*.cbuild-pack.yml</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#cbuild-setyml">*.cbuild-set.yml</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#nodes-for-project-management">Nodes for Project Management</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#configurations">configurations:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#cprojects">cprojects:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#cbuilds">cbuilds:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#select-compiler">select-compiler:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#packs">packs:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#generators">generators:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#generator">generator:</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#nodes-for-file-management">Nodes for File Management</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#linker">linker:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#groups">groups:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#files-of-a-group">files: of a group</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#apis">apis:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#components">components:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#files-of-a-component">files: of a component</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#constructed-files">constructed-files:</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#nodes-for-license-information">Nodes for License Information</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#licenses">licenses:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#west">west:</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#generator-information-files">Generator Information Files</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#file-structure-of-cbuild-gen-idxyml">File Structure of *.cbuild-gen-idx.yml</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#generator-import-file">Generator Import File</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#file-structure-of-cgenyml">File Structure of *.cgen.yml</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#run-and-debug-management">Run and Debug Management</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#file-structure-of-cbuild-runyml">File Structure of *.cbuild-run.yml</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#output">output:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#system-resources">system-resources:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#system-descriptions">system-descriptions:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#debugger">debugger:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#gdbserver">gdbserver:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#debug-vars">debug-vars:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#debug-sequences">debug-sequences:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#programming">programming:</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#debug-topology">debug-topology:</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../build-operation/">Theory of Operation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../pack-tools/">Pack Creation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Troubleshooting/">Troubleshooting</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Experimental-Features/">Experimental Features</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Debugger Support</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../pyOCD-Debugger/">pyOCD Debugger</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../JLink-Debugger/">J-Link Debugger</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Device Configuration Tools</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../MCUXpressoConfig/">MCUXpresso for NXP Devices</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../CubeMX/">STM32CubeMX for STM32 Devices</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">CMSIS-Toolbox</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Build Information Files</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/Open-CMSIS-Pack/cmsis-toolbox/edit/main/docs/YML-CBuild-Format.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="build-information-files">Build Information Files</h1>
<!-- markdownlint-disable MD013 -->
<!-- markdownlint-disable MD036 -->
<!-- markdownlint-disable MD060 -->

<p>The following chapter explains the output files generated by the <code>csolution</code> tool. Depending on options, the files <code>*.cbuild-pack.yml</code> and <code>*.cbuild-set.yml</code> are also used as input files. The build information files are used for:</p>
<ul>
<li>generate CMake input files via the <a href="../build-operation/#cbuild2cmake-generate-cmakelists-files">cbuild2cmake</a> tool.</li>
<li>provide details for the graphical user interface in <a href="https://marketplace.visualstudio.com/items?itemName=Arm.cmsis-csolution">VS Code extension Arm CMSIS Solution</a>.</li>
<li>obtain a list of licenses used in a project.</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: left;">File</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><a href="#cbuild-idxyml"><code>*.cbuild-idx.yml</code></a></td>
<td style="text-align: left;">Index file of all <code>*.cbuild.yml</code> build descriptions; contains also overall information for the application.</td>
</tr>
<tr>
<td style="text-align: left;"><a href="#cbuildyml"><code>*.cbuild.yml</code></a></td>
<td style="text-align: left;">Build description of a single <a href="../YML-Input-Format/#project-file-structure"><code>*.cproject.yml</code></a> input file; contains all information for the build step for a specific <a href="../build-overview/#context">context</a> including references to the content used from software packs.</td>
</tr>
<tr>
<td style="text-align: left;"><a href="#cbuild-packyml"><code>*.cbuild-pack.yml</code></a></td>
<td style="text-align: left;">Software packs recorded for all input files (<a href="../YML-Input-Format/#project-file-structure"><code>*.csolution.yml</code></a>, <code>cproject.yml</code>, and <code>.clayer.yml</code>); used as input file to ensure <a href="../build-overview/#reproducible-builds">reproducible builds</a> that use the same software packs and pack versions.</td>
</tr>
<tr>
<td style="text-align: left;"><a href="#cbuild-setyml"><code>*.cbuild-set.yml</code></a></td>
<td style="text-align: left;"><a href="../build-overview/#working-with-context-set">Context selection</a> for the build process, enabled with option <a href="../build-tools/#use-context-set">--context-set:</a>.</td>
</tr>
<tr>
<td style="text-align: left;"><a href="#run-and-debug-management"><code>*.cbuild-run.yml</code></a></td>
<td style="text-align: left;">Contains the information required to <a href="#run-and-debug-management">download and debug</a> a <em>csolution project</em> to a target.</td>
</tr>
</tbody>
</table>
<p>!!! Note CMSIS-Toolbox 2.11 creates the <code>*.cbuild.yml</code> and <code>*.cbuild-run.yml</code> files in the <code>out</code> directory along with the related output files.</p>
<h2 id="directory-structure">Directory Structure</h2>
<p>The <code>csolution</code> based projects are portable across different host computers and therefore use <strong>relative file references</strong>.</p>
<ul>
<li>
<p>All file references use relative paths to the base directory of the related <code>*.yml</code> file.  Files that are within the file structure of the <code>csolution</code> base directory are also referenced using relative paths, i.e. <code>../layers/layer1/source-file1.c</code>.</p>
</li>
<li>
<p>Files that are located in the <a href="../installation/#environment-variables">CMSIS-Pack root directory</a> are prefixed with <code>${CMSIS_PACK_ROOT}</code>.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All file references to user source code should be relative paths. The prefixes <code>${CMSIS_PACK_ROOT}</code> and <code>${CMSIS_COMPILER_ROOT}</code> are used to refer to base directories of files that relate to software packs and compiler-specific files. These base directories can also be on different filesystem drives.</p>
</div>
<ul>
<li>Files outside of the directory structure of a <code>csolution</code> based application use absolute paths. If absolute paths are used, a <code>warning</code> is issued in the <code>*.cbuild-idx.yml</code> file.</li>
</ul>
<p>A typical directory structure of a <code>csolution</code> based application that uses common layers source files is shown below.</p>
<pre><code class="language-yml">ðŸ“¦ # csolution base directory
 â”£ myapp.csolution.yml
 â”£ myapp.cbuild-idx.yml
 â”£ myapp.cbuild-pack.yml
 â”£ myapp.cbuild-set.yml
 â”£ ðŸ“‚ project1
 â”ƒ  â”£  mypro1.cproject.yml                 # file references are relative to directory project1
 â”£ ðŸ“‚ project2
 â”ƒ  â”£  mypro2.cproject.yml                 # file references are relative to directory project
 â”£ ðŸ“‚ layer
 â”ƒ  â”£  mylayer.clayer.yml                  # file references are relative to directory layer
 â”£ ðŸ“‚ out
 â”ƒ  â”£  myapp+Target.cbuild-run.yml         # file references are relative to directory out
 â”£  â”£ ðŸ“‚ mypro1\Target\Debug
 â”£  â”£  â”£  mypro1.cbuild.Debug+Target.yml   # file references are relative to directory out\mypro1\Target\Debug
 â”£  â”£ ðŸ“‚ mypro2\Target\Debug
 â”£  â”£  â”£  mypro2.cbuild.Debug+Target.yml   # file references are relative to directory out\mypro2\Target\Debug

</code></pre>
<h2 id="lock-pack-versions">Lock Pack Versions</h2>
<p>A <em>csolution project</em> refers to packs in different files (<code>*.csolution.yml</code>, <code>*.cproject.yml</code> or <code>*.clayer.yml</code>). To ensure consistent pack usage during application development (for example when new <code>target-types</code> or <code>build-types</code> are introduced), the <code>*.cbuild-pack.yml</code> file records the exact pack versions.</p>
<p>The required packs can be specified in <em>csolution project files</em> in the following ways:</p>
<ul>
<li>exactly, e.g. <code>ARM::CMSIS@5.9.0</code></li>
<li>with range, e.g. <code>ARM::CMSIS@&gt;=5.8.0</code></li>
<li>without version, e.g. <code>ARM::CMSIS</code></li>
<li>with wildcards on the pack name, e.g. <code>ARM::CMSI*</code></li>
<li>without pack name, e.g. <code>ARM</code></li>
</ul>
<p>The required packs are resolved to an exact pack version that is recorded in the <code>*.cbuild-pack.yml</code> file as shown below:</p>
<pre><code class="language-yml">cbuild-pack:
  resolved-packs:
    - resolved-pack: ARM::CMSIS@5.9.0
      selected-by-pack:
        - ARM
        - ARM::CMSI*
        - ARM::CMSIS
        - ARM::CMSIS@&gt;=5.8.0
        - ARM::CMSIS@5.9.0
</code></pre>
<p>If <em>csolution project files</em> are modified, the <code>selected-by-pack</code> information ensures that consistent pack versions are used. If a required pack is no longer used or present in the <em>csolution project</em>, the relevant entry <code>resolved-pack:</code> in  the <code>*.cbuild-pack.yml</code> file is removed.</p>
<p>The <code>*.cbuild-pack.yml</code> file is located in the same directory as the <code>*.csolution.yml</code> file and is used by the <code>csolution</code> for every command that uses a <code>*.csolution.yml</code> file. Examples are:</p>
<ul>
<li><code>csolution convert</code> - uses <strong>and updates</strong> the <code>*.cbuild-pack.yml</code> file.</li>
<li><code>csolution list ...</code> - uses the <code>*.cbuild-pack.yml</code> file</li>
<li><code>csolution run</code> - uses the <code>*.cbuild-pack.yml</code> file.</li>
<li><code>csolution update-rte</code> - uses <strong>and updates</strong> the <code>*.cbuild-pack.yml</code> file.</li>
</ul>
<p>The operation of the <code>csolution</code> command is as follows:</p>
<ul>
<li>Load the <em>csolution project files</em> (<code>*.csolution.yml</code>, <code>*.cproject.yml</code> or <code>*.clayer.yml</code>).</li>
<li>Initially there is no <code>*.cbuild-pack.yml</code> file. If it exists, the <code>*.cbuild-pack.yml</code> file is loaded. The packs are aligned with the <code>resolved-pack:</code> information of the <code>*.cbuild-pack.yml</code> file in these steps:<ul>
<li><em>PopulateContexts</em>: Add <code>resolved-pack:</code> information to the <em>solution data model</em>.</li>
<li><em>AddPackRequirements</em>: Pack version ranges and pack wildcards are matched to fully qualified versions of the <em>solution data model</em>. Pack wildcards are expanded to fully qualified packs using cbuild-pack.yml. Pack wildcards are kept for further expansion in the <em>solution data model</em>.</li>
</ul>
</li>
<li>Execute the <code>csolution</code> command, for example <code>convert</code>, <code>list</code>, <code>run</code>, or <code>update-rte</code>.</li>
<li>Update the <code>*.cbuild-pack.yml</code> file (only if the content changes):<ul>
<li><em>GenerateCbuildPack</em>: Generate the <code>resolved-pack:</code> list of packs required by all <em>contexts</em>. The original <code>pack:</code> specification is stored under <code>selected-by-pack:</code>.</li>
</ul>
</li>
</ul>
<p>With the subsequent <code>csolution</code> command, the information of the <code>*.cbuild-pack.yml</code> file is used to load the appropriate fully qualified pack versions, matching previously used packs.</p>
<h2 id="file-format">File Format</h2>
<p>The following sections describe the format of the <em>build information files</em>. Many nodes are identical with the <a href="../YML-Input-Format/"><strong>CSolution Project Format</strong></a>, but optional information is fully expanded. The nodes that are different are explained below under:</p>
<ul>
<li><a href="#nodes-for-project-management"><strong>Nodes for Project Management</strong></a></li>
<li><a href="#nodes-for-file-management"><strong>Nodes for File Management</strong></a></li>
<li><a href="#nodes-for-license-information"><strong>Nodes for License Information</strong></a></li>
</ul>
<h3 id="cbuild-idxyml"><code>*.cbuild-idx.yml</code></h3>
<p>The <code>&lt;solution-name&gt;.cbuild-idx.yml</code> file is generated for the <em>csolution project</em> and refers to all <em>contexts</em> that are generated. It is structured as outlined below.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>build-idx:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>generated-by:</code></td>
<td style="text-align: left;">Reference to csolution tool along with version information used to generate this application.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>description:</code></td>
<td style="text-align: left;">Brief description text copied from the <a href="../YML-Input-Format/#solution"><code>*.csolution.yml</code></a> input file used to generate this application.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>cdefault:</code></td>
<td style="text-align: left;">Relative path and name of the <a href="../YML-Input-Format/#cdefault"><code>*.cdefault.yml</code></a> input file used to generate this application.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>csolution:</code></td>
<td style="text-align: left;">Relative path and name of the <a href="../YML-Input-Format/#solution"><code>*.csolution.yml</code></a> input file used to generate this application.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#configurations"><code>configurations:</code></a></td>
<td style="text-align: left;">For reference applications with undefined layers: list of potential project configurations for a reference application with undefined layers</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#cprojects"><code>cprojects:</code></a></td>
<td style="text-align: left;">List of <code>*.cproject.yml</code> and <code>*.clayer.yml</code> input files used to generate this application.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#cbuilds"><code>cbuilds:</code></a></td>
<td style="text-align: left;">List of <code>*.cbuild.yml</code> output files that are generated by <code>*.cproject.yml</code> files for this application.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#select-compiler"><code>select-compiler:</code></a></td>
<td style="text-align: left;">For projects with unspecified compiler: list of available compilers for selection</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre><code class="language-yml">build-idx:
  generated-by: csolution version 2.3.0
  description: USB application examples sharing board layers.
  cdefault: cdefault.yml
  csolution: USB.csolution.yml
  configurations:
    - target-type: B-U585I-IOT02A
      target-configurations:
        - configuration:
            - variables:
                - Board-Layer: /Users/.../Arm/Packs/Keil/B-U585I-IOT02A_BSP/2.0.0-dev0/Layers/IoT/Board.clayer.yml
  cprojects:
    - cproject: Device/HID/HID.cproject.yml
      clayers:
        - clayer: $Board-Layer$
    - cproject: Device/MassStorage/MassStorage.cproject.yml
      clayers:
        - clayer: $Board-Layer$
  cbuilds:
    - cbuild: out/HID/B-U585I-IOT02A/Debug/HID.Debug+B-U585I-IOT02A.cbuild.yml
      project: HID
      configuration: .Debug+B-U585I-IOT02A
    - cbuild: out/MassStorage/B-U585I-IOT02A/Release/MassStorage.Release+B-U585I-IOT02A.cbuild.yml
      project: MassStorage
      configuration: .Release+B-U585I-IOT02A
    - cbuild: out/hello_world/B-U585I-IOT02A/Release/hello_world.Release+B-U585I-IOT02A.cbuild.yml
      west: true
      project: hello_world
      configuration: .Release+B-U585I-IOT02A

  errors: true                  # indicates error
  packs-missing:                # lists missing packs
    - pack: ARM::CMSIS-RTX      # with unspecified version
    - pack: ARM::CMSIS@6.0.0    # with specified version
</code></pre>
<h3 id="cbuildyml"><code>*.cbuild.yml</code></h3>
<p>The <code>&lt;project-name&gt;.&lt;build-type&gt;+&lt;target-type&gt;.cbuild.yml</code> file contains all information for one <em>context</em>. It is structured as outlined below.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>build:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>generated-by:</code></td>
<td style="text-align: left;">Reference to csolution tool along with version information used to generate this application.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>context:</code></td>
<td style="text-align: left;">Project <a href="../YML-Input-Format/#context-name-conventions">context</a> of this build description.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>compiler:</code></td>
<td style="text-align: left;"><a href="../YML-Input-Format/#compiler">Compiler toolchain</a> used for code generation.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>board:</code></td>
<td style="text-align: left;"><a href="../YML-Input-Format/#board">Board name</a> used for this context.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>board-pack:</code></td>
<td style="text-align: left;">BSP that is defining the <a href="../YML-Input-Format/#board">Board name</a> used for this context.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>board-books:</code></td>
<td style="text-align: left;">List board documentation as defined in the <a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/pdsc_boards_pg.html#element_board_book">PDSC element <code>&lt;board&gt;</code></a>.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>device:</code></td>
<td style="text-align: left;"><a href="../YML-Input-Format/#device">Device name</a> with processor core selection used in this  project context.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>device-pack:</code></td>
<td style="text-align: left;">DFP that is defining the <a href="../YML-Input-Format/#device">Device name</a> with processor core selection used in this  project context.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>device-books:</code></td>
<td style="text-align: left;">List device documentation as defined in the <a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/pdsc_family_pg.html#element_book">PDSC element <code>&lt;device&gt;</code></a>.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>processor:</code></td>
<td style="text-align: left;">List of <a href="../YML-Input-Format/#processor">processor attributes</a> used in this project context.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#packs"><code>packs:</code></a></td>
<td style="text-align: left;">List of software <a href="#packs">packs</a> along with path information used to generate this project context.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>optimize:</code></td>
<td style="text-align: left;">Generic <a href="../YML-Input-Format/#optimize">optimize</a> level for code generation.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>link-time-optimize:</code></td>
<td style="text-align: left;">Enable <a href="../YML-Input-Format/#link-time-optimize">optimization at linker level</a>.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>debug:</code></td>
<td style="text-align: left;">Global control the generation of <a href="../YML-Input-Format/#debug">debug</a> information.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>warnings:</code></td>
<td style="text-align: left;">Global control <a href="../YML-Input-Format/#warnings">warning</a> level for compiler diagnostics.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>misc:</code></td>
<td style="text-align: left;">Global control of <a href="../YML-Input-Format/#misc">miscellaneous</a> literal tool-specific controls.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>define:</code></td>
<td style="text-align: left;">List of global <a href="../YML-Input-Format/#define">define</a> symbol settings.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>add-path:</code></td>
<td style="text-align: left;">List of global <a href="../YML-Input-Format/#add-path">include path</a> settings.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>output-type:</code></td>
<td style="text-align: left;">Select the <a href="../YML-Input-Format/#output">output type</a> (exe or lib) for this project context.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>output-dirs:</code></td>
<td style="text-align: left;">Specifies the <a href="../YML-Input-Format/#output-dirs">directories</a> used to generate the output files.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>linker:</code></td>
<td style="text-align: left;">Specifies the <a href="#linker">linker script processing</a> used to generate the output files.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#components"><code>components:</code></a></td>
<td style="text-align: left;">List of software components used.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#apis"><code>apis:</code></a></td>
<td style="text-align: left;">List of API interfaces used.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#groups"><code>groups:</code></a></td>
<td style="text-align: left;">List of source file groups along with source files.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#constructed-files"><code>constructed-files:</code></a></td>
<td style="text-align: left;">List of files that are generated by RTE management of the <code>csolution</code> tool.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#licenses"><code>licenses:</code></a></td>
<td style="text-align: left;">List of licenses used by the various software components of this project context.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre><code class="language-yml">build:
  context: HelloWorld_cm0plus.Debug+FRDM-K32L3A6
  compiler: AC6
  device: K32L3A60VPJ1A:cm0plus
  processor:
    fpu: off
    endian: little
    trustzone: non-secure
  packs:
    - pack: ARM::CMSIS@5.9.0
      path: ${CMSIS_PACK_ROOT}/ARM/CMSIS/5.9.0
    - pack: NXP::K32L3A60_DFP@15.0.0
      path: ${CMSIS_PACK_ROOT}/NXP/K32L3A60_DFP/15.0.0
  optimize: none
  debug: on
  misc:
    C:
      - -std=c99
      - -fno-builtin
    CPP:
      - -fno-builtin
    Link:
      - --diag_suppress 6314
      - --entry=Reset_Handler
  define:
    - CPU_K32L3A60VPJ1A_cm0plus
    - MCMGR_HANDLE_EXCEPTIONS=1
           :
    - _RTE_
  add-path:
    - ../middleware/multicore/mcmgr/src
    - RTE/Board_Support/K32L3A60VPJ1A_cm0plus
    - RTE/_HelloWorld_cm0plus.Debug_FRDM-K32L3A6
    - ${CMSIS_PACK_ROOT}/ARM/CMSIS/5.9.0/CMSIS/Core/Include
    - ${CMSIS_PACK_ROOT}/NXP/K32L3A60_DFP/15.0.0
            :
  output-type: exe
  output-dirs:
    gendir: generated
    intdir: ../tmp/HelloWorld_cm0plus/FRDM-K32L3A6/Debug
    outdir: ../out/HelloWorld_cm0plus/FRDM-K32L3A6/Debug
    rtedir: RTE
  components:
    - component: ARM::CMSIS:CORE@5.6.0
      condition: ARMv6_7_8-M Device
      from-pack: ARM::CMSIS@5.9.0
      selected-by: ARM::CMSIS:CORE
    - component: NXP::Device:CMSIS:K32L3A60_system@1.0.0
      condition: device.K32L3A60_AND_device.K32L3A60_CMSIS
      from-pack: NXP::K32L3A60_DFP@15.0.0
      selected-by: NXP::Device:CMSIS:K32L3A60_system
      files:
        - file: ${CMSIS_PACK_ROOT}/NXP/K32L3A60_DFP/15.0.0/system_K32L3A60_cm0plus.c
          category: sourceC
    - component: NXP::Device:SDK Drivers:clock@2.2.1
      condition: device.K32L3A60_AND_driver.common
      from-pack: NXP::K32L3A60_DFP@15.0.0
      selected-by: NXP::Device:SDK Drivers:clock
      files:
        - file: ${CMSIS_PACK_ROOT}/NXP/K32L3A60_DFP/15.0.0/drivers/fsl_clock.c
          category: sourceC
    - component: NXP::Device:SDK Drivers:common@2.3.2
      condition: device.K32L3A60_AND_device.K32L3A60_CMSIS_AND_driver.clock
      from-pack: NXP::K32L3A60_DFP@15.0.0
      selected-by: NXP::Device:SDK Drivers:common
      files:
        - file: ${CMSIS_PACK_ROOT}/NXP/K32L3A60_DFP/15.0.0/drivers/fsl_common.c
          category: sourceC
        - file: ${CMSIS_PACK_ROOT}/NXP/K32L3A60_DFP/15.0.0/drivers/fsl_common_arm.c
          category: sourceC
            :
  groups:
    - group: Application
      files:
        - file: ./hello_world_core1.c
          category: sourceC
        - file: ./RTE/Device/K32L3A60VPJ1A_cm0plus/K32L3A60xxx_cm0plus_flash.scf
          category: linkerScript
    - group: Middleware
      files:
        - file: ../middleware/multicore/mcmgr/src/mcmgr.c
          category: sourceC
            :
  constructed-files:
    - file: RTE/_HelloWorld_cm0plus.Debug_FRDM-K32L3A6/RTE_Components.h
      category: header
</code></pre>
<h3 id="cbuild-packyml"><code>*.cbuild-pack.yml</code></h3>
<p>The <code>&lt;solution-name&gt;.cbuild-pack.yml</code> file contains the <a href="#lock-pack-versions">pack information</a> for the <em>csolution project</em>. It is structured as outlined below.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>cbuild-pack:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>resolved-packs:</code></td>
<td style="text-align: left;">List of packs used to create the project contexts.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>resolved-packs:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- resolved-pack:</code></td>
<td style="text-align: left;"><a href="../YML-Input-Format/#pack-name-conventions">pack name</a> used.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>selected-by-pack:</code></td>
<td style="text-align: left;">List of <a href="../YML-Input-Format/#component-name-conventions">components</a> included from the pack.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre><code class="language-yml">cbuild-pack:
  resolved-packs:
    - resolved-pack: ARM::CMSIS@5.9.0
      selected-by:
        - ARM::CMSIS
    - resolved-pack: ARM::V2M_MPS3_SSE_300_BSP@1.2.0
      selected-by:
        - ARM::V2M_MPS3_SSE_300_BSP@1.2.0
    - resolved-pack: Keil::ARM_Compiler@1.7.2
      selected-by:
        - Keil::ARM_Compiler
</code></pre>
<h3 id="cbuild-setyml"><code>*.cbuild-set.yml</code></h3>
<p>The <code>&lt;solution-name&gt;.cbuild-set.yml</code> file selects the <a href="../build-overview/#working-with-context-set">context set</a> for the <em>csolution project</em>.  The structure is outlined below.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>cbuild-set:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>generated-by:</code></td>
<td style="text-align: left;">Reference to tool along with version information that generated this file.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>contexts:</code></td>
<td style="text-align: left;">List of <a href="../YML-Input-Format/#context-name-conventions">context</a> names for the <a href="../build-tools/#use-context-set">context-set:</a> option.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre><code class="language-yml">cbuild-set:
  generated-by: csolution version 2.2.0
  contexts:
    - context: CM33_s.Release+AVH
    - context: CM33_ns.Debug+AVH
</code></pre>
<h3 id="nodes-for-project-management">Nodes for Project Management</h3>
<h4 id="configurations"><code>configurations:</code></h4>
<p>The <code>configurations:</code> node lists possible configurations for <a href="../ReferenceApplications/">reference applications</a> that have undefined variable settings.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>configurations:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- target-type:</code></td>
<td style="text-align: left;">Name of target-type for which configurations are listed.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp;<code>target-configurations:</code></td>
<td style="text-align: left;">List of possible configurations for the target-type.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp;- <code>configuration:</code></td>
<td style="text-align: left;">Possible configuration for the reference application.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>- variables:</code></td>
<td style="text-align: left;">List of variable names with configuration information.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>&lt;layer-name&gt;:</code></td>
<td style="text-align: left;">Layer name with a value that is the path to the <code>clayer.yml</code> file.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>description:</code></td>
<td style="text-align: left;">Brief <a href="../YML-Input-Format/#layer">description</a> text taken from <code>*.clayer.yml</code>.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>settings:</code></td>
<td style="text-align: left;">Usage instructions for this layer.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>- set:</code></td>
<td style="text-align: left;">Value of <code>set</code> and <code>info</code> taken from <a href="../YML-Input-Format/#connect"><code>connect:</code></a> in <code>*.clayer.yml</code>.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>path:</code></td>
<td style="text-align: left;">Path to the directory that contains the layer (from *.PDSC file).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>file:</code></td>
<td style="text-align: left;">Name of the *.clayer.yml file (optional with a relative path to the directory specified with path) (from <code>*.PDSC</code> file).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>copy-to:</code></td>
<td style="text-align: left;">Proposed directory for the layer in the <em>csolution project</em> (from *.PDSC file).</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre><code class="language-yml">  configurations:
    - target-type: B-U585I-IOT02A
      target-configurations:
        - configuration:
            - variables:
              - Board-Layer: /Users/.../Arm/Packs/Keil/B-U585I-IOT02A_BSP/2.0.0-dev0/Layers/IoT/Board.clayer.yml
                description: &quot;Configuration including FXLS8962 sensor&quot;

    - target-type: MyBoard
        - configuration:
            - variables:
              - Board-Layer: ./layer/board/frdmk22f/frdmk22f.clayer.yml
                description: &quot;Configuration: Ethernet, UART, and WiFi&quot;
                settings:
                - set: set1.select1 (connect A - set 1 select 1)
                path: ./layer/board/frdmk22f
                file: frdmk22f.clayer.yml
                copy-to: board/frdmk22f
              - Shield-Layer: ./layer/shield/agmp03/agmp03.clayer.yml
                description: &quot;Shield with FXLS8962 and FXAS21002&quot;
                settings:
                - set: Bus.SPI (FXLS8962 SPI Bus - Jumper configuration: I2C/SPI=SPI)
                - set: Bus.SPI (FXAS21002 SPI Bus - Jumper configuration: I2C/SPI=SPI)
                path: ./layer/board/frdmk22f
                file: frdmk22f.clayer.yml
                copy-to: board/frdmk22f
</code></pre>
<h4 id="cprojects"><code>cprojects:</code></h4>
<p>The <code>cprojects:</code> node lists all <code>*.cproject.yml</code> input files along with <code>*.clayer.yml</code> files that are used to compose the application.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>cprojects:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- cproject:</code></td>
<td style="text-align: left;">Relative path and name of a <a href="../YML-Input-Format/#project"><code>*.cproject.yml</code></a> input file.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp;<code>clayers:</code></td>
<td style="text-align: left;">List of <a href="../YML-Input-Format/#layer"><code>*.clayer.yml</code></a> input files used by this <code>*.cproject.yml</code> file.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre><code class="language-yml">  cprojects:
    - cproject: AWS_MQTT_MutualAuth_SW_Framework/Demo.cproject.yml
      clayers:
        - clayer: AWS_MQTT_MutualAuth_SW_Framework/Socket/FreeRTOS+TCP/Socket.clayer.yml
        - clayer: AWS_MQTT_MutualAuth_SW_Framework/Socket/WiFi/Socket.clayer.yml
        - clayer: AWS_MQTT_MutualAuth_SW_Framework/Socket/VSocket/Socket.clayer.yml
             :
</code></pre>
<h4 id="cbuilds"><code>cbuilds:</code></h4>
<p>The <code>cbuilds:</code> node lists all project context configurations that are generated with this build.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>cbuilds:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- cbuild:</code></td>
<td style="text-align: left;">Build description file of a single context for a *.cproject.yml input file.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>project:</code></td>
<td style="text-align: left;">Project name.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>configuration:</code></td>
<td style="text-align: left;">Context configuration for this build description file.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>errors:</code></td>
<td style="text-align: left;">Error indication.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>packs-missing:</code></td>
<td style="text-align: left;">List of missing packs.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>packs-unused:</code></td>
<td style="text-align: left;">List of unused packs.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>messages:</code></td>
<td style="text-align: left;">List of <code>errors:</code>, <code>warnings:</code>, or <code>info:</code> messages.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre><code class="language-yml">  cbuilds:
    - cproject: AWS_MQTT_MutualAuth_SW_Framework/Demo.cproject.yml
      project: Demo
      configuration: .Debug+AVH
      errors: true
      messages:
        errors:
          - no compatible software layer found. Review the required connections of the project
        info:
          - test.cbuild-set.yml - file is already up-to-date
</code></pre>
<h4 id="select-compiler"><code>select-compiler:</code></h4>
<p>If no compiler is specified in the <em>csolution project</em>, the <a href="../build-operation/#details-of-the-setup-mode"><code>cbuild setup</code> command</a> lists the available compilers based on the <a href="../installation/#compiler-registration">compiler registration</a> and <code>select-compiler:</code> node in the file <a href="../YML-Input-Format/#solution"><code>*.csolution.yml</code></a> or <a href="../YML-Input-Format/#cdefault"><code>cdefault.yml</code></a>.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>select-compiler:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- compiler:</code></td>
<td style="text-align: left;">Name (optionally with version) of the compiler toolchain; copied from the <code>select-compiler:</code> node in the <em>csolution project</em>.</td>
</tr>
</tbody>
</table>
<h4 id="packs"><code>packs:</code></h4>
<p>The <code>packs:</code> node is the start of a pack list that is used for the project context.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>packs:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- pack:</code></td>
<td style="text-align: left;">Explicit pack specification with exact version information used.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp;<code>path:</code></td>
<td style="text-align: left;">Path name that stores the software pack (see note).</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Packs that are located in the <a href="../installation/#environment-variables">CMSIS-Pack root directory</a> are prefixed with <code>${CMSIS_PACK_ROOT}</code>.</p>
</div>
<p><strong>Example:</strong></p>
<pre><code class="language-yml">  packs:
    - pack: ARM::CMSIS-FreeRTOS@10.4.6
      path: ${CMSIS_PACK_ROOT}/ARM/CMSIS-FreeRTOS/10.4.6
    - pack: ARM::CMSIS@5.9.0
      path: ${CMSIS_PACK_ROOT}/ARM/CMSIS/5.9.0
       :
    - pack: MDK-Packs::IoT_Socket@1.3.1
      path: ../IoT_Socket
</code></pre>
<h4 id="generators"><code>generators:</code></h4>
<p>The <code>generators:</code> node contains information for calling a generator.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>generators:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- generator:</code></td>
<td style="text-align: left;">Section for a specific generator.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#generators"><code>path:</code></a></td>
<td style="text-align: left;">Path name for storing the files generated.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>gdpsc:</code></td>
<td style="text-align: left;">File name of the *.GDPSC file that stores the information in <code>path:</code>.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>command:</code></td>
<td style="text-align: left;">Section for invoking the generator on different Host operating systems.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre><code class="language-yml">  generators:
    - generator: STM32CubeMX
      path: RTE/Device
      gpdsc: RTE/Device/STM32L475VGTx/FrameworkCubeMX.gpdsc
      command:
        win:
          file: ${CMSIS_PACK_ROOT}/Keil/STM32L4xx_DFP/2.6.1/MDK/CubeMX/STM32CubeMxLauncher.exe
          arguments:
            - STM32L475VGTx
            - ../../Release+STM32L4.cprj
            - ${CMSIS_PACK_ROOT}/Keil/STM32L4xx_DFP/2.6.1
</code></pre>
<h4 id="generator"><code>generator:</code></h4>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>generator:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- id:</code></td>
<td style="text-align: left;">Generator identifier used for this component</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>path:</code></td>
<td style="text-align: left;">File name and path to the *.cgen.yml file that is generated.</td>
</tr>
</tbody>
</table>
<h3 id="nodes-for-file-management">Nodes for File Management</h3>
<table>
<thead>
<tr>
<th style="text-align: left;">Keyword</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>groups:</code></td>
<td style="text-align: left;">Start of a list that adds source groups and files.</td>
</tr>
<tr>
<td style="text-align: left;"><code>components:</code></td>
<td style="text-align: left;">Start of a list that adds software components.</td>
</tr>
</tbody>
</table>
<h4 id="linker"><code>linker:</code></h4>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>linker:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- regions:</code></td>
<td style="text-align: left;">Path and file name of <code>regions_&lt;device_or_board&gt;.h</code>, used to generate a Linker Script via pre-processor.</td>
</tr>
<tr>
<td style="text-align: left;"><code>- script:</code></td>
<td style="text-align: left;">Path and file name of the pre-processed Linker Script template.</td>
</tr>
<tr>
<td style="text-align: left;"><a href="../YML-Input-Format/#define"><code>- define:</code></a></td>
<td style="text-align: left;">Define symbol settings for the linker script file preprocessor.</td>
</tr>
</tbody>
</table>
<h4 id="groups"><code>groups:</code></h4>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>groups:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- group:</code></td>
<td style="text-align: left;">Name of the group.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#optimize"><code>optimize:</code></a></td>
<td style="text-align: left;">Optimize level for code generation.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#debug"><code>debug:</code></a></td>
<td style="text-align: left;">Generation of debug information.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#warnings"><code>warnings:</code></a></td>
<td style="text-align: left;">Control generation of compiler diagnostics.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#define"><code>define:</code></a></td>
<td style="text-align: left;">Define symbol settings for code generation.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#add-path"><code>add-path:</code></a></td>
<td style="text-align: left;">Additional include file paths.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#misc"><code>misc:</code></a></td>
<td style="text-align: left;">Literal tool-specific controls.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#groups"><code>groups:</code></a></td>
<td style="text-align: left;">Start a nested list of groups.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#files-of-a-group"><code>files:</code></a></td>
<td style="text-align: left;">List of files that belong to a group</td>
</tr>
</tbody>
</table>
<h4 id="files-of-a-group"><code>files:</code> of a group</h4>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>files:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- file:</code></td>
<td style="text-align: left;">Name of the file.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/pdsc_components_pg.html#FileCategoryEnum"><code>category:</code></a></td>
<td style="text-align: left;">File category according to Open-CMSIS-Pack specification</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#optimize"><code>optimize:</code></a></td>
<td style="text-align: left;">Optimize level for code generation.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#debug"><code>debug:</code></a></td>
<td style="text-align: left;">Generation of debug information.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#warnings"><code>warnings:</code></a></td>
<td style="text-align: left;">Control generation of compiler diagnostics.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#define"><code>define:</code></a></td>
<td style="text-align: left;">Define symbol settings for code generation.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#add-path"><code>add-path:</code></a></td>
<td style="text-align: left;">Additional include file paths.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#misc"><code>misc:</code></a></td>
<td style="text-align: left;">Literal tool-specific controls.</td>
</tr>
</tbody>
</table>
<h4 id="apis"><code>apis:</code></h4>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>apis:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- api:</code></td>
<td style="text-align: left;">Name of the API.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/pdsc_conditions_pg.html#element_condition"><code>condition:</code></a></td>
<td style="text-align: left;">Reference to the condition ID of the software pack that triggered the inclusion of this API.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>from-pack:</code></td>
<td style="text-align: left;">Pack that defines this API.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>implemented-by:</code></td>
<td style="text-align: left;">Refers to the software component that implements the API.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#files-of-a-component"><code>files:</code></a></td>
<td style="text-align: left;">List of files that belong to this API.</td>
</tr>
</tbody>
</table>
<h4 id="components"><code>components:</code></h4>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>components:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- component:</code></td>
<td style="text-align: left;">Name of the software component.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/pdsc_conditions_pg.html#element_condition"><code>condition:</code></a></td>
<td style="text-align: left;">Reference to the condition ID of the software pack that triggered the inclusion of this component.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>from-pack:</code></td>
<td style="text-align: left;">Pack that defines this component.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>selected-by:</code></td>
<td style="text-align: left;">The original component name used in <code>cproject/clayer.YML</code>.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#optimize"><code>optimize:</code></a></td>
<td style="text-align: left;">Optimize level for code generation.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#debug"><code>debug:</code></a></td>
<td style="text-align: left;">Generation of debug information.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#warnings"><code>warnings:</code></a></td>
<td style="text-align: left;">Control generation of compiler diagnostics.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#define"><code>define:</code></a></td>
<td style="text-align: left;">Define symbol settings for code generation.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#add-path"><code>add-path:</code></a></td>
<td style="text-align: left;">Additional include file paths.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#misc"><code>misc:</code></a></td>
<td style="text-align: left;">Literal tool-specific controls.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>instances:</code></td>
<td style="text-align: left;">Number of component instances configured.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>maxInstances:</code></td>
<td style="text-align: left;">Maximum number component instances that can be configured.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#generator"><code>generator:</code></a></td>
<td style="text-align: left;">Generator information for components that are configurable via a generator.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>implements:</code></td>
<td style="text-align: left;">Refers to the API that the component is based on.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#files-of-a-component"><code>files:</code></a></td>
<td style="text-align: left;">List of files that belong to this component.</td>
</tr>
</tbody>
</table>
<h4 id="files-of-a-component"><code>files:</code> of a component</h4>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>files:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- file:</code></td>
<td style="text-align: left;">Name and path to the file.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/pdsc_components_pg.html#FileCategoryEnum"><code>category:</code></a></td>
<td style="text-align: left;">File category according to Open-CMSIS-Pack specification</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/pdsc_components_pg.html#FileAttributeEnum"><code>attr:</code></a></td>
<td style="text-align: left;">File category according to Open-CMSIS-Pack specification; <code>api</code> refers to header files that define the api of a component.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/pdsc_conditions_pg.html#element_condition"><code>condition:</code></a></td>
<td style="text-align: left;">Reference to the condition ID of the software pack that triggered the inclusion of this file.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>select:</code></td>
<td style="text-align: left;">Selection text for user code template files and api header files.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/pdsc_components_pg.html#element_files"><code>version:</code></a></td>
<td style="text-align: left;">For files that belong to components the version specified in the PDSC file.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../build-overview/#plm-of-configuration-files"><code>base:</code></a></td>
<td style="text-align: left;">Unmodified configuration file (base file from the <em>software pack</em>) that is currently in use.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../build-overview/#plm-of-configuration-files"><code>update:</code></a></td>
<td style="text-align: left;">New configuration file from an updated <em>software pack</em>.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>status:</code></td>
<td style="text-align: left;">Action for configuration file update: suggested, recommended, required.</td>
</tr>
</tbody>
</table>
<h4 id="constructed-files"><code>constructed-files:</code></h4>
<p>A list of files that are generated by the RTE management of the <code>csolution</code> tool.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>constructed-files:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- file:</code></td>
<td style="text-align: left;">Name and path to the file.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/pdsc_components_pg.html#FileCategoryEnum"><code>category:</code></a></td>
<td style="text-align: left;">File category according to Open-CMSIS-Pack specification.</td>
</tr>
</tbody>
</table>
<h3 id="nodes-for-license-information">Nodes for License Information</h3>
<p>The <code>*.cbuild.&lt;build-type&gt;+&lt;target-type&gt;.yml</code> files contain license information about each software component that is included in software packs.</p>
<h4 id="licenses"><code>licenses:</code></h4>
<p>Each different license that is used in a project context has a separate section.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>licenses:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- license:</code></td>
<td style="text-align: left;">License identifier or short description.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>license-agreement:</code></td>
<td style="text-align: left;">File category according to Open-CMSIS-Pack specification</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#packs"><code>packs:</code></a></td>
<td style="text-align: left;">List of software <a href="#packs">packs</a> used to generate this project context.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#components"><code>components:</code></a></td>
<td style="text-align: left;">List of software <a href="../YML-Input-Format/#components">components</a> used to generate this project context.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre><code class="language-yml">  licenses:
    - license: &lt;proprietary&gt; END USER LICENSE AGREEMENT FOR ARM SOFTWARE DEVELOPMENT TOOLS
      license-agreement: ${CMSIS_PACK_ROOT}/Keil/MDK-Middleware/8.0.0/license_terms/license_agreement.txt
      packs:
        - pack: Keil::MDK-Middleware@8.0.0
      components:
        - component: Keil::USB&amp;MDK:CORE@8.0.0
        - component: Keil::USB&amp;MDK:Device:HID@8.0.0
        - component: Keil::USB&amp;MDK:Device@8.0.0
    - license: Apache-2.0
      packs:
        - pack: ARM::CMSIS-Compiler@2.1.0
        - pack: ARM::CMSIS-Driver_STM32@1.0.0
        - pack: ARM::CMSIS-RTX@5.9.0
        :
      components:
        - component: CMSIS Driver:GPIO(API)
        - component: CMSIS Driver:I2C(API)
        - component: CMSIS Driver:SPI(API)
        :
        - component: ARM::CMSIS-Compiler:CORE@1.1.0
        - component: ARM::CMSIS-Compiler:STDERR:Custom@1.1.0
        - component: ARM::CMSIS-Compiler:STDIN:Custom@1.1.0
        :
</code></pre>
<h4 id="west"><code>west:</code></h4>
<p>For each west build context a node <code>west:</code> is created in *.cbuild.yml</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>west:</code></th>
<th style="text-align: left;"></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>app-path:</code></td>
<td style="text-align: left;"><strong>Required</strong></td>
<td style="text-align: left;">Path to the application source directory.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>project-id:</code></td>
<td style="text-align: left;"><strong>Required</strong></td>
<td style="text-align: left;">Project identifier</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>board:</code></td>
<td style="text-align: left;"><strong>Required</strong></td>
<td style="text-align: left;">Board name used for west build invocation.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>device:</code></td>
<td style="text-align: left;">Optional</td>
<td style="text-align: left;">Specify the processor core for execution of the generated image (used in <code>*.cbuild-run.yml</code>).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>west-defs:</code></td>
<td style="text-align: left;">Optional</td>
<td style="text-align: left;">Defines in <code>CMake</code> format. The <code>west-defs:</code> from build and target-type are added.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>west-opt:</code></td>
<td style="text-align: left;">Optional</td>
<td style="text-align: left;">Options for the <code>west</code> tool (default: empty).</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre><code class="language-yml">  west:
    project-id: hello_world
    app-path: ../../../../hello_world
    board: stm32h7b3i_dk 
    west-defs:
      - CONFIG_BUILD_OUTPUT_HEX=y
</code></pre>
<h2 id="generator-information-files">Generator Information Files</h2>
<p>The <code>csolution run</code> command generates the following build information files in the <a href="../YML-Input-Format/#output-dirs"><code>intdir:</code></a> of the related <code>context</code>. These files are the input to a generator and provide information about the <em>csolution project</em> to the generator.  The files are generated in the <a href="../build-overview/#output-directory-structure"><code>tmp</code> directory</a> of the project and contain absolute paths.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">File</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>*.cbuild-gen-idx.yml</code></td>
<td style="text-align: left;">Index file of all <code>*.cbuild-gen.yml</code> build descriptions; contains also overall information for the application.</td>
</tr>
<tr>
<td style="text-align: left;"><code>*.cbuild-gen.yml</code></td>
<td style="text-align: left;">Build description of a single <a href="../YML-Input-Format/#project-file-structure"><code>*.cproject.yml</code></a> input file. The format is identical with the <a href="#cbuildyml"><code>*.cbuild.yml</code></a> file.</td>
</tr>
</tbody>
</table>
<h3 id="file-structure-of-cbuild-gen-idxyml">File Structure of <code>*.cbuild-gen-idx.yml</code></h3>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>build-gen-idx:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>generated-by:</code></td>
<td style="text-align: left;">Reference to csolution tool along with version information used to generate this application.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>generators:</code></td>
<td style="text-align: left;">List of generators that are called with the <code>run</code> command.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>generators:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- id:</code></td>
<td style="text-align: left;"><code>generator identifier</code> specified with the option <code>--generator</code> in the <a href="../build-tools/#csolution-invocation"><code>csolution run</code></a> command.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>output:</code></td>
<td style="text-align: left;">Specifies the directory for generated files.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>board:</code></td>
<td style="text-align: left;"><a href="../YML-Input-Format/#board">Board name</a> used for the generator.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>device:</code></td>
<td style="text-align: left;"><a href="../YML-Input-Format/#device">Device name</a> used for the generator.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>project-type:</code></td>
<td style="text-align: left;">Describes the project type "single-core", "multi-core", "trustzone".</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>cbuild-gens:</code></td>
<td style="text-align: left;">List of <code>*.cbuild-gen.yml</code> files with options that are generated for the generator run.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>cbuild-gens:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- cbuild-gen:</code></td>
<td style="text-align: left;">Build information file with name <code>&lt;context&gt;.cbuild-gen.yml</code>; structure identical with <a href="#cbuildyml">*.cbuild.yml</a>.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>project:</code></td>
<td style="text-align: left;">Project name (used as a name for <code>*.cgen.yml</code> when <code>name:</code> is not specified).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>configuration:</code></td>
<td style="text-align: left;">Specifies <code>.build-type+target-type</code> of this context.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>name:</code></td>
<td style="text-align: left;">Explicit name for the <code>*.cgen.yml</code> <a href="#generator-import-file">generator import file</a> specified by <a href="../YML-Input-Format/#generators-options"><code>generator options</code></a>.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>map:</code></td>
<td style="text-align: left;">Mapping to a generator-specific run-time context name specified by <a href="../YML-Input-Format/#generators-options"><code>generator options</code></a>.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre><code class="language-yml">build-gen-idx:
  generated-by: csolution version 2.3.0
  generators:
    - id: CubeMX
      output: C:/w/csolution-examples/CubeMX/STM32CubeMX/MyBoard  # output directory
      device: STM32U585AIIx
      board: B-U585I-IOT02A
      project-type: single-core
      cbuild-gens:
        - cbuild-gen: C:/w/csolution-examples/CubeMX/tmp/CubeMX/MyBoard/Debug/CubeMX.Debug+MyBoard.cbuild-gen.yml
          project: CubeMX     # user selected name of the project
          configuration: .Debug+MyBoard
          name: BoardLayer    # create BoardLayer.cgen.yml in output directory (new in CMSIS-Toolbox 2.4.0)
          map: Boot           # map to STM32CubeMX run-time context (new in CMSIS-Toolbox 2.4.0)
</code></pre>
<h2 id="generator-import-file">Generator Import File</h2>
<p>The <code>*.cgen.yml</code> file lists the generated <em>csolution project</em> part and starts with the node <code>generator-import:</code>. It is defined similarly to a <a href="../build-overview/#software-layers">Software Layer</a> additional parameters, files, and components that are included in the project.</p>
<h3 id="file-structure-of-cgenyml">File Structure of <code>*.cgen.yml</code></h3>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>generator-import:</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>generated-by:</code></td>
<td style="text-align: left;">Tool name that generated this file</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#device-name-conventions"><code>for-device:</code></a></td>
<td style="text-align: left;">Device information, used for consistency check (device selection is in <code>*.csolution.yml</code>).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#board-name-conventions"><code>for-board:</code></a></td>
<td style="text-align: left;">Board information, used for consistency check (board selection is in <code>*.csolution.yml</code>).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#packs"><code>packs:</code></a></td>
<td style="text-align: left;">Defines packs that are required for this layer.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#define"><code>define:</code></a></td>
<td style="text-align: left;">Define symbol settings for code generation.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#undefine"><code>undefine:</code></a></td>
<td style="text-align: left;">Remove define symbol settings for code generation.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#add-path"><code>add-path:</code></a></td>
<td style="text-align: left;">Additional include file paths.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#del-path"><code>del-path:</code></a></td>
<td style="text-align: left;">Remove specific include file paths.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#groups"><code>groups:</code></a></td>
<td style="text-align: left;">List of source file groups along with source files.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#components"><code>components:</code></a></td>
<td style="text-align: left;">List of software components used.</td>
</tr>
</tbody>
</table>
<h2 id="run-and-debug-management">Run and Debug Management</h2>
<p>The CMSIS-Toolbox build system manages software packs that contain information about device, board, and software components. It controls the build output (typically ELF/DWARF files), and has provisions for HEX, BIN and post-processing. The <a href="../build-overview/#run-and-debug-configuration"><code>target-set:</code></a> node configures the application images and the debugger for a <a href="../build-overview/#configure-related-projects">target-type</a>.</p>
<p>The software packs contain information that is the basis for debug and run settings:</p>
<ul>
<li><a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/flashAlgorithm.html">Flash algorithms</a> of device memory (in DFP) and board memory (in BSP).</li>
<li>On-board debug adapter (a default programming/debug channel) including features.</li>
<li>Available memory of device and board.</li>
<li>Device parameters such as processor core(s) and clock speed.</li>
<li><a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/debug_description.html">Debug Access Sequences</a> and <a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/sdf_pg.html">System Description Files</a> that support more complex Cortex-A/R/M configurations.</li>
<li>Debug Configuration files (<code>*.dbgconf</code>) that configure device properties such as trace pins.</li>
<li><a href="https://open-cmsis-pack.github.io/svd-spec/main/index.html">CMSIS-SVD System View Description (SVD)</a> files for viewing device peripherals.</li>
<li><a href="https://arm-software.github.io/CMSIS-View/latest/SCVD_Format.html">CMSIS-View Software Component Viewer Description (SCVD)</a> files for analysis of software components (RTOS, Middleware).</li>
</ul>
<p>The user may add the following information in the <code>*.csolution.yml</code> file:</p>
<ul>
<li><a href="../YML-Input-Format/#add-memory">Additional memory</a> with flash algorithms for external memory in custom hardware using the <a href="../YML-Input-Format/#memory"><code>memory:</code></a> node.</li>
<li><a href="../YML-Input-Format/#images">Additional images</a> that should be programmed or loaded using the <a href="../YML-Input-Format/#images"><code>images:</code></a> node.</li>
<li><a href="../YML-Input-Format/#debugger-configuration">Debugger configuration</a> provided by packs can be adjusted using the <a href="../YML-Input-Format/#debugger"><code>debugger:</code></a> node.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The information may be defined at various places. The <code>*.csolution.yml</code> file overrules the information from the BSP. The BSP overrules the information from the DFP.</p>
</div>
<p>The file <code>*.cbuild-run.yml</code> contains for a single <code>target-type</code> of a <em>csolution project</em> the relevant information for run and debug. The information is collected by the CMSIS-Toolbox and the file name has the format <code>&lt;solution-name&gt;+&lt;target-type&gt;.cbuild-run.yml</code> file. It is used by programmers and debuggers in command line or IDE workflows. The information is portable, i.e. from a cloud-hosted CI system to a desktop test system.</p>
<p><img alt="Run and Debug Information Management" src="../images/cbuild-run.png" title="Run and Debug Information Management" /></p>
<p>The <code>&lt;solution-name&gt;+&lt;target-type&gt;.cbuild-run.yml</code> file represents a single <code>target-type</code> of a <em>csolution project</em>.</p>
<p><strong>Example:</strong></p>
<pre><code class="language-yml">cbuild-run:
  generated-by: csolution version 2.7.0
  solution: CubeMX.csolution.yml
  target-type: MyBoard_ROM
  compiler: AC6
  device: STMicroelectronics::STM32U585AIIx
  device-pack: Keil::STM32U5xx_DFP@3.0.0
  board: STMicroelectronics::B-U585I-IOT02A:Rev.C
  board-pack: Keil::B-U585I-IOT02A_BSP@2.0.0
  programming:
    - algorithm: ${CMSIS_PACK_ROOT}/Keil/STM32U5xx_DFP/3.0.0/CMSIS/Flash/STM32U5xx_2M_0800.FLM
      start: 0x08000000
      size: 0x00200000
      ram-start: 0x20000000
      ram-size: 0x00008000
    - algorithm: ${CMSIS_PACK_ROOT}/Keil/STM32U5xx_DFP/3.0.0/CMSIS/Flash/STM32U5xx_2M_0C00.FLM
      :
  system-descriptions:
    - file: ${CMSIS_PACK_ROOT}/Keil/STM32U5xx_DFP/3.0.0/CMSIS/SVD/STM32U585.svd
      type: svd
  output:
    - file: out/CubeMX/MyBoard_ROM/Debug/CubeMX.axf
      type: elf

  system-resources:
    memory:
      :

  debugger:
    - name: pyOCD@CMSIS-DAP
      :

  debug-vars:
      :

  debug-sequences:
      :

  debug-topology:
      :
</code></pre>
<h3 id="file-structure-of-cbuild-runyml">File Structure of <code>*.cbuild-run.yml</code></h3>
<p>The following describes the overall structure of the <code>*.cbuild-run.yml</code> file.  While the content of this file is generated using the <code>cbuild</code> command, it is also possible to manually generate this file or modify content.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>cbuild-run:</code></th>
<th style="text-align: left;"></th>
<th>Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>generated-by:</code></td>
<td style="text-align: left;">Optional</td>
<td>Tool name that generated this file.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>solution:</code></td>
<td style="text-align: left;">Optional</td>
<td>Name of the <code>*.csolution.yml</code> file.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#target-types"><code>target-type:</code></a></td>
<td style="text-align: left;">Optional</td>
<td>Name of the target-type that was selected.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#target-set"><code>target-set:</code></a></td>
<td style="text-align: left;">Optional</td>
<td>Name of the target-set that was selected (format <code>&lt;target-type&gt;[@&lt;set&gt;]</code>).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>compiler:</code></td>
<td style="text-align: left;">Optional</td>
<td><a href="../YML-Input-Format/#compiler">Compiler toolchain</a> used for code generation.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>board:</code></td>
<td style="text-align: left;">Optional</td>
<td><a href="../YML-Input-Format/#board">Board name</a> used for this target.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>board-pack:</code></td>
<td style="text-align: left;">Optional</td>
<td>BSP that is defining the <a href="../YML-Input-Format/#board">Board name</a> used for this target.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>device:</code></td>
<td style="text-align: left;">Optional</td>
<td><a href="../YML-Input-Format/#device">Device name</a> used in this target.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>device-pack:</code></td>
<td style="text-align: left;">Optional</td>
<td>DFP that is defining the <a href="../YML-Input-Format/#device">Device</a> used in this target.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#output"><code>output:</code></a></td>
<td style="text-align: left;"><strong>Required</strong></td>
<td>List of the image (ELF, HEX, BIN) files generated.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#system-resources"><code>system-resources:</code></a></td>
<td style="text-align: left;">Optional</td>
<td>List of the system resources available in target.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#system-descriptions"><code>system-descriptions:</code></a></td>
<td style="text-align: left;">Optional</td>
<td>List of description files for peripherals and software components.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#debugger"><code>debugger:</code></a></td>
<td style="text-align: left;"><strong>Required</strong></td>
<td>Configuration information for the debug connection.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#debug-sequences"><code>debug-sequences:</code></a></td>
<td style="text-align: left;">Optional</td>
<td>Tool actions for debugging, tracing, or programming.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#programming"><code>programming:</code></a></td>
<td style="text-align: left;">Optional</td>
<td>Algorithms for flash download.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="#debug-topology"><code>debug-topology:</code></a></td>
<td style="text-align: left;">Optional</td>
<td>Properties of the system hardware for debug functionality.</td>
</tr>
</tbody>
</table>
<h4 id="output"><code>output:</code></h4>
<p>This node contains information about the images that should be loaded. The images that are generated by the <em>csolution project</em> are typically configured <a href="../build-overview/#working-with-target-set">using a target-set</a>. The <code>output:</code> node includes also image files that are generated with a <a href="../YML-Input-Format/#west-build">West Build</a> specification.
The <code>output:</code> node also contains other required files that are added with <a href="../YML-Input-Format/#images"><code>images:</code></a> in the <code>*.csolution.yml</code> file.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>output:</code></th>
<th></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- file:</code></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Specifies the file name.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#type"><code>type:</code></a></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Specifies the file type.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>info:</code></td>
<td>Optional</td>
<td style="text-align: left;">Brief description of the file.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <a href="../YML-Input-Format/#load"><code>load:</code></a></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Load mode of the image file for programmers and debug tools.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>load-offset:</code></td>
<td>Optional</td>
<td style="text-align: left;">Offset applied in <code>*.csolution.yml</code> when loading the image file.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>pname:</code></td>
<td>Optional</td>
<td style="text-align: left;">Image belongs to processor in a multi-core system.</td>
</tr>
</tbody>
</table>
<p><strong><code>load:</code> mode</strong></p>
<p>For <code>image:</code> files that are added using the <a href="../YML-Input-Format/#images"><code>images:</code></a> node of the <code>*.csolution.yml</code> file but have no <code>load:</code> mode specified, the CMSIS-Toolbox adds an <code>load:</code> mode depending on the file type.</p>
<ul>
<li>Files with <code>type: elf</code> get <code>load: image+symbols</code>.</li>
<li>Files with <code>type: lib</code> get <code>load: none</code>.</li>
<li>All other file types get <code>load: image</code>.</li>
</ul>
<p>For files that are the output of a <code>cproject.yml</code> project, the <code>output:</code> node lists all files that are generated. The CMSIS-Toolbox adds an <code>load:</code> mode depending on the compiler used and the file types that are generated to indicate how these files should be used by programmers and debug tools.</p>
<p><em>For <code>compiler: AC6</code>:</em></p>
<ul>
<li>When only a file with <code>type: elf</code> is generated, the file gets <code>load: image+symbols</code>.</li>
<li>When a file with <code>type: elf</code> and a file with <code>type: hex</code> is generated, the <code>type: elf</code> file gets <code>load: symbols</code> and the <code>type: hex</code> file gets <code>load: image</code>. This allows to bypass <a href="../Troubleshooting/#gnu-loader-issues-with-arm-compiler-6">GNU loader issues with Arm Compiler 6</a>.</li>
<li>All other file types get <code>load: none</code>.</li>
</ul>
<p><em>For any other compiler:</em></p>
<ul>
<li>Files with <code>type: elf</code> get <code>load: image+symbols</code>.</li>
<li>All other file types get <code>load: none</code>.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>info: generate by &lt;context&gt;</code> indicates that an image is generated by a context of the <em>csolution project</em>.</p>
</div>
<h4 id="system-resources"><code>system-resources:</code></h4>
<p>The <code>system-resources:</code> node lists the resources of a target system.  It includes memory from the DFP, BSP, and <code>memory:</code> definitions from the <code>csolution.yml</code> file.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>system-resources:</code></th>
<th></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>memory:</code></td>
<td>Optional</td>
<td style="text-align: left;">Identifies the section for memory.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>memory:</code></th>
<th></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- name:</code></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Name of the memory region (when PDSC contains id, it uses the id as name).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>access:</code></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Access attribute string for the memory (see table below).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>start:</code></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Base address of the memory.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>size:</code></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Size of the memory.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>pname:</code></td>
<td>Optional</td>
<td style="text-align: left;">Only accessible by a specific processor.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>alias:</code></td>
<td>Optional</td>
<td style="text-align: left;">Name of identical memory exposed at a different address.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>from-pack:</code></td>
<td>Optional</td>
<td style="text-align: left;">Pack that defines this memory.</td>
</tr>
</tbody>
</table>
<p>The table lists the letters and their meaning for use in the access attribute string.</p>
<table>
<thead>
<tr>
<th style="text-align: center;"><code>access:</code></th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">r</td>
<td style="text-align: left;">Readable</td>
</tr>
<tr>
<td style="text-align: center;">w</td>
<td style="text-align: left;">Writable</td>
</tr>
<tr>
<td style="text-align: center;">x</td>
<td style="text-align: left;">eXecutable</td>
</tr>
<tr>
<td style="text-align: center;">p</td>
<td style="text-align: left;">Peripheral area. Details described in SVD file.</td>
</tr>
<tr>
<td style="text-align: center;">s</td>
<td style="text-align: left;">Secure attribute</td>
</tr>
<tr>
<td style="text-align: center;">n</td>
<td style="text-align: left;">Non-secure attribute</td>
</tr>
<tr>
<td style="text-align: center;">c</td>
<td style="text-align: left;">non-secure Callable attribute</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre><code class="language-yml">system-resources:
  memory:
    - name: ITCM_Flash
      access: rx
      start: 0x00200000
      size: 0x00100000
      from-pack: Keil::STM32U5xx_DFP@3.0.0
    - name: Ext-Flash
      access: rx
      start: 0x40000000
      size: 0x200000
</code></pre>
<h4 id="system-descriptions"><code>system-descriptions:</code></h4>
<p>List of the description files for peripherals and software components used in this project target.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>system-descriptions:</code></th>
<th>Value</th>
<th>Use</th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- file:</code></td>
<td>string</td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Specifies the file name including the path.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>type:</code></td>
<td>string</td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Specifies the file type (see table below).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>info:</code></td>
<td>string</td>
<td>Optional</td>
<td style="text-align: left;">Brief description of the file.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>pname:</code></td>
<td>string</td>
<td>Optional</td>
<td style="text-align: left;">File is used only for a specific processor; default is for all processors.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>type:</code></th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>svd</code></td>
<td style="text-align: left;"><a href="https://open-cmsis-pack.github.io/svd-spec/main/index.html">System View Description (<code>*.svd</code>) file</a> specified in the <a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/pdsc_family_pg.html#element_debug">DFP</a>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>scvd</code></td>
<td style="text-align: left;"><a href="http://arm-software.github.io/CMSIS-View/latest/SCVD_Format.html">Software Component Viewer Description (<code>*.scvd</code>) file</a> for <a href="https://arm-software.github.io/CMSIS-View/latest/index.html">CMSIS-View</a>.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>The <code>pname:</code> specifier applies a description file only to a specific processor core. The same description file may therefore appear more than once with different <code>pname:</code> specifiers.</li>
</ul>
</div>
<h4 id="debugger"><code>debugger:</code></h4>
<p>This node contains connection information for a debugger with initial settings coming from the board support pack (BSP) or device family pack (DFP).</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>debugger:</code></th>
<th></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>name:</code></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Identifies the debug configuration.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>info:</code></td>
<td>Optional</td>
<td style="text-align: left;">Brief description from target-set.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>protocol:</code></td>
<td>Optional</td>
<td style="text-align: left;">Selected debug protocol (jtag or swd).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>clock:</code></td>
<td>Optional</td>
<td style="text-align: left;">Selected debug clock speed in Hz.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>dbgconf:</code></td>
<td>Optional</td>
<td style="text-align: left;">Debugger configuration file (pinout, trace).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>start-pname:</code></td>
<td>Optional</td>
<td style="text-align: left;">Debugger connects at start to this processor.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>gdbserver:</code></td>
<td>Optional</td>
<td style="text-align: left;">Information for GDB server option of debugger.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>telnet:</code></td>
<td>Optional</td>
<td style="text-align: left;">Telnet service configuration.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>trace:</code></td>
<td>Future</td>
<td style="text-align: left;">Trace port of the debugger.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>*:</code></td>
<td>Optional</td>
<td style="text-align: left;">Other debugger specific options specified under <a href="../YML-Input-Format/#target-set">target-set</a>.</td>
</tr>
</tbody>
</table>
<p>!!! Note:
    - <code>protocol:</code> and <code>clock:</code> are required by pyOCD but optional for other debug adapters. The file <a href="../build-operation/#debug-adapter-integration"><code>./etc/debug-adatpers.yml</code></a> allows to specify default values for required options.
    - <code>start-pname:</code> is mandatory for multi-processor targets. If <code>start-pname:</code> is not configured using the <a href="../YML-Input-Format/#debugger"><code>debugger:</code></a> node in the <code>*.csolution.yml</code> file, the <code>pname:</code> of the first <code>*.cproject.yml</code> file is used.</p>
<p>The information for the <code>debugger:</code> node may be configured using the <a href="../YML-Input-Format/#debugger"><code>debugger:</code></a> node in the <code>*.csolution.yml</code> file. If not present the values from BSP are used; if not present DFP values. The values in the <code>*.csolution.yml</code> file overwrites values from BSP or DFP as shown in the table below.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>*.cbuild-run.yml</code></th>
<th style="text-align: left;"><code>*.csolution.yml</code></th>
<th style="text-align: left;">BSP</th>
<th style="text-align: left;">DFP</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>debugger:</code></td>
<td style="text-align: left;"><a href="../YML-Input-Format/#debugger"><code>debugger:</code></a></td>
<td style="text-align: left;"><a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/pdsc_boards_pg.html#element_board_debugProbe"><code>&lt;boards&gt;&lt;board&gt;&lt;debugProbe ...</code></a></td>
<td style="text-align: left;"><a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/pdsc_family_pg.html#element_debugconfig"><code>&lt;device&gt;&lt;debugconfig ...</code></a></td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>protocol:</code></td>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>protocol:</code></td>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>debugLink</code></td>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>default</code></td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>clock:</code></td>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>clock:</code></td>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>debugClock</code></td>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>clock</code></td>
</tr>
</tbody>
</table>
<p>If no input (<code>*.csolution.yml</code>, BSP or DFP) provides debugger option values, the CMSIS-Toolbox uses the values under <code>defaults:</code> from the file <a href="../build-operation/#debug-adapter-integration"><code>./etc/debug-adapters.yml</code></a>.</p>
<p><strong>Example:</strong></p>
<pre><code class="language-yml">debugger:
  name: CMSIS-DAP
  info: On-Board debugger of MCB4300
  protocol: jtag
  clock: 10000000
  dbgconf: /.cmsis/MySolution+lpc4300.dbgconf
</code></pre>
<h4 id="gdbserver"><code>gdbserver:</code></h4>
<p>These are options for the pyOCD GDB server configuration (could be optionally used by other debuggers as well).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>gdbserver:</code> node is only generated when the file <a href="../build-operation/#debug-adapter-integration"><code>./etc/debug-adapters.yml</code></a> contains <code>gdbserver:</code> for the selected debug adapter.</p>
</div>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>gdbserver:</code></th>
<th></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- port:</code></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Port number of processor</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>pname:</code></td>
<td>Optional</td>
<td style="text-align: left;">Processor name of the processor (only required for multi-core systems)</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>punit:</code></td>
<td>Future</td>
<td style="text-align: left;">Identifies the processor core in a SMP system.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre><code class="language-yml">  debugger:
    name: CMSIS-DAP
    protocol: swd
    clock: 10000000
    dbgconf: /.cmsis/MySolution+MCXN9XX.dbgconf
    gdbserver:
      - port: 3333
        pname: cm33_core1
      - port: 3334
        pname: cm33_core0
</code></pre>
<p><img alt="GDB Server Port Assignments" src="../images/GDBServer.png" title="GDB Server Port Assignments" /></p>
<h4 id="debug-vars"><code>debug-vars:</code></h4>
<p>This node contains the default value from the DFP for the <a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/pdsc_family_pg.html#element_sequence">variables used in <code>debug-sequences:</code></a>.
These initial values are overwritten by explicit settings in the <code>*.dbgconf</code> file that is provided in the <a href="#debugger"><code>debugger:</code></a> node.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>debug-vars:</code></th>
<th></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>vars:</code></td>
<td>Optional</td>
<td style="text-align: left;">Initial values for variables used in <a href="#debug-sequences"><code>debug-sequences:</code></a>.</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre><code class="language-yml">debug-vars:
  vars: |
    // Default values for variables in debug sequences. Are configured with a *.dbgconf file in the user project
    __var SWO_Pin               = 0;                    // Serial Wire Output pin: 0 = PIO0_10, 1 = PIO0_8
    __var Dbg_CR                = 0x00000000;           // DBG_CR
    __var BootTime              = 10000;                // 10 milliseconds
</code></pre>
<h4 id="debug-sequences"><code>debug-sequences:</code></h4>
<p>This node contains the <a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/pdsc_family_pg.html#element_sequence">debug sequences</a> from the DFP for the target. Debug sequences define the activities of development tools to connect to a device using the debug channel for debugging, tracing, or flash programming. The sequence name is also used to overwrite a default sequence. A sequence that contains no <code>blocks</code> disables the default sequence.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>debug-sequences:</code></th>
<th></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- name:</code></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Name of the sequence.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>info:</code></td>
<td>Optional</td>
<td style="text-align: left;">Descriptive text to display for example for error diagnostics.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>blocks:</code></td>
<td>Optional</td>
<td style="text-align: left;">A list of command blocks in order of execution.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>pname:</code></td>
<td>Optional</td>
<td style="text-align: left;">Executes sequence only for a specific processor; default is for all processors.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>blocks:</code></th>
<th></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- info:</code></td>
<td>Optional</td>
<td style="text-align: left;">Descriptive text to display for example for error diagnostics.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>blocks:</code></td>
<td>Optional</td>
<td style="text-align: left;">A list of command blocks in the order of execution.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>execute:</code></td>
<td>Optional</td>
<td style="text-align: left;">Commands for execution.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>atomic:</code></td>
<td>Optional</td>
<td style="text-align: left;">Atomic execution of commands; cannot be used with <code>blocks:</code>.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>if:</code></td>
<td>Optional</td>
<td style="text-align: left;">Only executed when expression is true.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>while:</code></td>
<td>Optional</td>
<td style="text-align: left;">Executed in loop until while expression is true.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>timeout:</code></td>
<td>Optional</td>
<td style="text-align: left;">Timeout value (integer) in milliseconds for while loop.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>When <code>atomic:</code> is applied, sequences execute with no interrupts as fast as possible using <a href="https://arm-software.github.io/CMSIS-DAP/latest/group__DAP__atomic__gr.html">CMSIS-DAP Atomic Commands</a>. It has therefore restrictions and cannot be combined with <code>blocks:</code>.</li>
<li>A <code>blocks:</code> node can either contain <code>execute:</code> or <code>blocks:</code> but not both.</li>
</ul>
</div>
<p>Example: <a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/debug_description.html#debugPortSetup">DebugPortSetup</a></p>
<pre><code class="language-yml">debug-sequences:
  - name: DebugPortSetup

    blocks:
    - execute:  |
        __var isSWJ      = ((__protocol &amp;amp; 0x00010000) != 0);
        __var hasDormant = __protocol &amp;amp; 0x00020000;
        __var protType   = __protocol &amp;amp; 0x0000FFFF;

    - if: protType == 1
      blocks:
      - if: isSWJ
        blocks:
        - if: hasDormant
          atomic:
          execute:  |
            // Ensure current debug interface is in reset state
            DAP_SWJ_Sequence(51, 0x0007FFFFFFFFFFFF);

            // Select Dormant State (from SWD)
            DAP_SWJ_Sequence(16, 0xE3BC);

            // At least 8 cycles SWDIO/TMS HIGH
            DAP_SWJ_Sequence(8, 0xFF);

            // Alert Sequence Bits  0.. 63
            DAP_SWJ_Sequence(64, 0x86852D956209F392);

            // Alert Sequence Bits 64..127
            DAP_SWJ_Sequence(64, 0x19BC0EA2E3DDAFE9);

            // 4 cycles SWDIO/TMS LOW + 8-Bit JTAG Activation Code (0x0A)
            DAP_SWJ_Sequence(12, 0x0A0);

            // Ensure JTAG interface is reset
            DAP_SWJ_Sequence(6, 0x3F);

        - if: !hasDormant
          atomic:
          execute:   |
            // Ensure current debug interface is in reset state
            DAP_SWJ_Sequence(51, 0x0007FFFFFFFFFFFF);

            // Execute SWJ-DP Switch Sequence SWD to JTAG (0xE73C)
            // Change if SWJ-DP uses deprecated switch code (0xAEAE)
            DAP_SWJ_Sequence(16, 0xE73C);

            // Ensure JTAG interface is reset
            DAP_SWJ_Sequence(6, 0x3F);

      - atomic:
        execute: |
          // JTAG &quot;Soft&quot; Reset
          DAP_JTAG_Sequence(6, 1, 0x3F);
          DAP_JTAG_Sequence(1, 0, 0x01);

    - if: protType == 2
      blocks:
      - if: isSWJ
        blocks:
        - if: hasDormant
          atomic:
          execute:  |
            // Ensure current debug interface is in reset state
            DAP_SWJ_Sequence(51, 0x0007FFFFFFFFFFFF);

            // Select Dormant State (from JTAG)
            DAP_SWJ_Sequence(31, 0x33BBBBBA);

            // At least 8 cycles SWDIO/TMS HIGH
            DAP_SWJ_Sequence(8, 0xFF);

            // Alert Sequence Bits  0.. 63
            DAP_SWJ_Sequence(64, 0x86852D956209F392);

            // Alert Sequence Bits 64..127
            DAP_SWJ_Sequence(64, 0x19BC0EA2E3DDAFE9);

            // 4 cycles SWDIO/TMS LOW + 8-Bit SWD Activation Code (0x1A)
            DAP_SWJ_Sequence(12, 0x1A0);

            // Enter SWD Line Reset State
            DAP_SWJ_Sequence(51, 0x0007FFFFFFFFFFFF);  // &amp;gt; 50 cycles SWDIO/TMS High
            DAP_SWJ_Sequence(3,  0x00);                // At least 2 idle cycles (SWDIO/TMS Low)

        - if: !hasDormant
          atomic:
          execute:  |
            // Ensure current debug interface is in reset state
            DAP_SWJ_Sequence(51, 0x0007FFFFFFFFFFFF);

            // Execute SWJ-DP Switch Sequence JTAG to SWD (0xE79E)
            // Change if SWJ-DP uses deprecated switch code (0xEDB6)
            DAP_SWJ_Sequence(16, 0xE79E);

            // Enter SWD Line Reset State
            DAP_SWJ_Sequence(51, 0x0007FFFFFFFFFFFF);  // &amp;gt; 50 cycles SWDIO/TMS High
            DAP_SWJ_Sequence(3,  0x00);                // At least 2 idle cycles (SWDIO/TMS Low)

              // Enter SWD Line Reset State
          DAP_SWJ_Sequence(51, 0x0007FFFFFFFFFFFF);  // &amp;gt; 50 cycles SWDIO/TMS High
          DAP_SWJ_Sequence(3,  0x00);                // At least 2 idle cycles (SWDIO/TMS Low)

    - execute:  |
      // Read DPIDR to enable SWD interface (SW-DPv1 and SW-DPv2)
      ReadDP(0x0);
</code></pre>
<h4 id="programming"><code>programming:</code></h4>
<p>The <code>programming:</code> node collects the <a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/flashAlgorithm.html">flash algorithms</a> of device memory (specified in DFP) and board memory (specified in BSP), and <a href="../YML-Input-Format/#memory"><code>memory:</code></a> specified the <code>*.csolution.yml</code> file.</p>
<p>The algorithm in the DFP and BSP must have the attribute <code>default="1"</code> set. If it specifies a <code>style</code>, only the styles "Keil" and "CMSIS" are added. Other algorithms may be add using the <a href="../YML-Input-Format/#memory"><code>memory:</code></a> node in the <code>*.csolution.yml</code> file.</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>programming:</code></th>
<th></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- algorithm:</code></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Programming algorithm file including the path.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>start:</code></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Start address of memory covered by the programming algorithm.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>size:</code></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Size of memory covered by the programming algorithm.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>ram-start:</code></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Start address of RAM where the algorithm will be executed from.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>ram-size:</code></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Maximum size of RAM available for executing the programming algorithm.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>pname:</code></td>
<td>Optional</td>
<td style="text-align: left;">Specifies the processor for the execution of the algorithm.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When <code>pname:</code> is specified the memory can only be programmed using the specified processor.  Otherwise any processor in a multi-processor system can execute the programming algorithm.</p>
</div>
<h4 id="debug-topology"><code>debug-topology:</code></h4>
<p>The <code>debug-topology:</code> node describes the properties of the system hardware for debug functionality. The information for this node is taken from the DFP.
The following default values for <code>debug-topology:</code> are used:</p>
<pre><code class="language-yml">debug-topology:
  dormant: false
  swj: true
  debugports:
    - dpid: 0
      jtag:
        tapindex: 0
      swd:
        targetsel: 0
      accessports:
        - apid: 0
          index: 0
</code></pre>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>debug-topology:</code></th>
<th></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>debugports:</code></td>
<td>Optional</td>
<td style="text-align: left;">Describes the CoreSight debug ports of the device and its capabilities.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>processors:</code></td>
<td>Optional</td>
<td style="text-align: left;">Map of <code>pname</code> identifiers to access port IDs (mandatory for multi-processor devices).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>swj:</code></td>
<td>Optional</td>
<td style="text-align: left;">Device allows switching between Serial Wire Debug (SWD) and JTAG protocols (<code>true</code> or <code>false</code>).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>dormant:</code></td>
<td>Optional</td>
<td style="text-align: left;">Device requires the dormant state to switch debug protocols (<code>true</code> or <code>false</code>).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <em><code>sdf:</code></em></td>
<td>Optional</td>
<td style="text-align: left;"><a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/sdf_pg.html">System Description File (<code>*.sdf</code>)</a> specified in the <a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/pdsc_family_pg.html#element_debugconfig">DFP</a>.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>debugports:</code></th>
<th></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- dpid:</code></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Unique ID of this debug port.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>jtag:</code></td>
<td>Optional</td>
<td style="text-align: left;">Describes JTAG Test Access Port (TAP) properties of this debug port.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>tapindex:</code></td>
<td>Optional</td>
<td style="text-align: left;">TAP index in the JTAG scan chain of this device from TDI to TDO (default <code>0</code>).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>swd:</code></td>
<td>Optional</td>
<td style="text-align: left;">Describes CoreSight Serial Wire Debug Port (SW-DP) properties of this debug port.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>targetsel:</code></td>
<td>Optional</td>
<td style="text-align: left;">SWD multi-drop target selection.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>accessports:</code></td>
<td>Optional</td>
<td style="text-align: left;">List of CoreSight access ports (APv1/APv2) (mandatory for multi-processor devices).</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>accessports:</code></th>
<th></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- apid:</code></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Unique ID of this access port. If only <code>apid</code> is provided, access port (APv1) with index <code>0</code> will be implicitly used.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>index:</code></td>
<td>Optional</td>
<td style="text-align: left;">Index to select this access port (APv1) for a target access.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>address:</code></td>
<td>Optional</td>
<td style="text-align: left;">Address to select this access port (APv2) in its parent's address space for a target access.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>HPROT:</code></td>
<td>Optional</td>
<td style="text-align: left;">Value for HPROT (AHB Protection Control) bits.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>SPROT:</code></td>
<td>Optional</td>
<td style="text-align: left;">Value for SPROT (Secure Protection Control) bit.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>datapatch:</code></td>
<td>Optional</td>
<td style="text-align: left;"><a href="https://open-cmsis-pack.github.io/Open-CMSIS-Pack-Spec/main/html/pdsc_family_pg.html#element_dbg_datapatch">List of patch values</a> a debugger shall apply when reading from the device.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <em><code>accessports:</code></em></td>
<td>Optional</td>
<td style="text-align: left;">Nested CoreSight access ports (APv2).</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>index:</code> and <code>address:</code> cannot be specified at the same time.</p>
</div>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>processors:</code></th>
<th></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- pname:</code></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Processor identifier  (mandatory for multi-processor devices).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <em><code>punits:</code></em></td>
<td>Optional</td>
<td style="text-align: left;">Specifies processor units in a symmetric multi-processor core (MPCore) (mandatory when more than one CPU debug block is accessible).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>apid:</code></td>
<td>Optional</td>
<td style="text-align: left;">Access port ID to use for this processor.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>reset-sequence:</code></td>
<td>Optional</td>
<td style="text-align: left;">Name of debug sequence for reset operation (default: <code>ResetSystem</code> sequence).</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align: left;"><code>datapatch:</code></th>
<th></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>- address:</code></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Address for which to apply the patch.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>value:</code></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Value to overwrite from device (for example in a ROM table).</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>mask:</code></td>
<td>Optional</td>
<td style="text-align: left;">The bits to patch. Default: complete value is replaced.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>type:</code></td>
<td>Optional</td>
<td style="text-align: left;">Type of data access to patch (see table below). Default is <code>Mem</code>.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <code>info:</code></td>
<td>Optional</td>
<td style="text-align: left;">Descriptive text for diagnostics messages.</td>
</tr>
</tbody>
</table>
<p>The table lists the allowed values for data patch access types.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">type</th>
<th style="text-align: left;">Data patch access type</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">AP</td>
<td style="text-align: left;">CoreSight Access Port register access.</td>
</tr>
<tr>
<td style="text-align: left;">Mem</td>
<td style="text-align: left;">Memory access (default when type is not specified)</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th style="text-align: left;"><em><code>punits:</code></em></th>
<th></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><em><code>- punit:</code></em></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Specifies a specific processor unit of a symmetric MPCore.</td>
</tr>
<tr>
<td style="text-align: left;">&nbsp;&nbsp;&nbsp; <em><code>address:</code></em></td>
<td><strong>Required</strong></td>
<td style="text-align: left;">Specifies the base address of the CPU debug block.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The nodes in <em>italic</em> are specified for future expansion, but currently not implemented.</p>
</div>
<h3 id="usage">Usage</h3>
<p>The <code>*.cbuild-run.yml</code> file provides all information about the application project for run and debug. It can be used with tools such as pyOCD as shown below.</p>
<p>Start gdbserver for debug connection:</p>
<pre><code class="language-bash">&gt;pyocd gdbserver --cbuild-run out\MyProject+TargetHW.cbuild-run.yml
</code></pre>
<p>Program flash with application images:</p>
<pre><code class="language-bash">&gt;pyocd load --cbuild-run out\MyProject+TargetHW.cbuild-run.yml
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../ReferenceApplications/" class="btn btn-neutral float-left" title="Reference Applications"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../build-operation/" class="btn btn-neutral float-right" title="Theory of Operation">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/Open-CMSIS-Pack/cmsis-toolbox" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../ReferenceApplications/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../build-operation/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>

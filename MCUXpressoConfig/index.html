<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>MCUXpresso for NXP Devices - CMSIS-Toolbox</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "MCUXpresso for NXP Devices";
        var mkdocs_page_input_path = "MCUXpressoConfig.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> CMSIS-Toolbox
        </a>
        <div class="version">
          2.13.0
        </div><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../overview/">Overview</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../installation/">Installation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../build-tools/">Build Tools</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../build-overview/">CSolution Project Structure</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../YML-Input-Format/">CSolution Project Format</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../CreateApplications/">Create Applications</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../ReferenceApplications/">Reference Applications</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../YML-CBuild-Format/">Build Information Files</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../build-operation/">Theory of Operation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../pack-tools/">Pack Creation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Troubleshooting/">Troubleshooting</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../Experimental-Features/">Experimental Features</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Debugger Support</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../pyOCD-Debugger/">pyOCD Debugger</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../JLink-Debugger/">J-Link Debugger</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Device Configuration Tools</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">MCUXpresso for NXP Devices</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#simple-project">Simple Project</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#linker-script">Linker Script</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#create-a-board-layer">Create a Board Layer</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../CubeMX/">STM32CubeMX for STM32 Devices</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">CMSIS-Toolbox</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Device Configuration Tools</li>
      <li class="breadcrumb-item active">MCUXpresso for NXP Devices</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/Open-CMSIS-Pack/cmsis-toolbox/edit/main/docs/MCUXpressoConfig.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="mcuxpresso-for-nxp-devices">MCUXpresso for NXP Devices</h1>
<!-- markdownlint-disable MD009 -->
<!-- markdownlint-disable MD013 -->
<!-- markdownlint-disable MD036 -->

<p>This chapter explains how to use the <a href="https://www.nxp.com/configtools">MCUXpresso Config Tool</a> with the CMSIS-Toolbox to manage device and board configuration.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>MCUXpresso Config Tools integration with CMSIS-Toolbox is available with CMSIS packs based on MCUXpresso SDK 2.16.0 (or higher).</p>
</div>
<h2 id="overview">Overview</h2>
<p>The <a href="https://www.nxp.com/configtools">MCUXpresso Config Tool</a> is a graphical tool for configuring an NXP device or board. Based on user settings, MCUXpresso generates C code for project and peripheral initialization. The CMSIS-Toolbox interacts with MCUXpresso Config Tools using the <a href="../build-operation/#generator-integration">generic interface for generators</a> and automatically adds generated source code to the project.</p>
<p>The <code>component: Device:Config Tools</code> connects a <em>csolution project</em> to MCUXpresso. This component imports the MCUXpresso generated files for a selected <code>device:</code> or <code>board:</code> using the <a href="../YML-CBuild-Format/#generator-import-file">generator import file</a> (<code>*.cgen.yml</code>). This <code>*.cgen.yml</code> file is similar to a <a href="../build-overview/#software-layers">software layer</a> but managed by MCUXpresso and should not be modified directly.</p>
<p>An example project created with MCUXpresso can be found in <a href="https://github.com/Open-CMSIS-Pack/csolution-examples/tree/main/DualCore"><strong>csolution-examples/DualCore</strong></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>When a board is specified in the <em>csolution project</em>, MCUXpresso pre-configures the device peripherals with sensible settings for the evaluation board. The user may change these settings using the MCUXpresso dialogues.</li>
<li>When only a device is specified, the user needs to configure the peripherals manually using MCUXpresso dialogs.</li>
</ul>
</div>
<h2 id="simple-project">Simple Project</h2>
<p>Below is a simple project that just adds the MCUXpresso-generated components.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The packs required for boards and devices are listed on <a href="https://www.keil.arm.com/boards/">www.keil.arm.com/boards</a> and <a href="https://www.keil.arm.com/devices/">www.keil.arm.com/devices</a>.</p>
</div>
<p><strong>File: <code>Simple.csolution.yml</code></strong></p>
<pre><code class="language-yml">solution:
  created-for: CMSIS-Toolbox@2.6.0

  # List of tested compilers that can be selected
  select-compiler:
    - compiler: AC6
    - compiler: GCC
    - compiler: IAR

  # List the packs that define the device and/or board.
  packs:
    - pack: NXP::FRDM-MCXN947_BSP
    - pack: NXP::MCXN947_DFP
    - pack: ARM::CMSIS

  # List different hardware targets that are used to deploy the solution.
  target-types:
    - type: MCXN947VDF
      board: NXP::FRDM-MCXN947
      device: NXP::MCXN947VDF

  # List of different build configurations.
  build-types:
    - type: Debug
      debug: on
      optimize: none

    - type: Release
      debug: off
      optimize: balanced

  # List related projects.
  projects:
    - project: Simple.cproject.yml
</code></pre>
<p><strong>File: <code>Simple.cproject.yml</code></strong></p>
<pre><code class="language-yml">project:
  device: :cm33_core0

  generators:
    options:
      - generator: MCUXpressoConfig
        path: ./MCUXpressoConfig
        name: ConfigTools

  # List components to use for your application.
  # A software component is a reusable unit that may be configurable.
  components:
    - component: Device:Config Tools:Init
    - component: Device:Startup
    - component: Device:CMSIS:MCXN947_header
    - component: Device:CMSIS:MCXN947_system

    - component: Device:SDK Drivers:clock
    - component: Device:SDK Drivers:common
    - component: Device:SDK Drivers:mcx_spc
    - component: Device:SDK Drivers:reset

    - component: CMSIS:CORE

  groups:
    - group: Main
      files:
        - file: ./main.c
</code></pre>
<p>Such a project cannot be built directly as the <code>*.cgen.yml</code> file is initially missing. It requires running the MCUXpresso generator. Before you start, you may need to <a href="../build-tools/#install-missing-packs"><code>install missing packs</code></a>.</p>
<ul>
<li>Identify the required generator and the directory where the generated files are stored with:</li>
</ul>
<pre><code class="language-bash">csolution Simple.csolution.yml list generators --verbose
MCUXpressoConfig (Global Registered Generator MCUXpresso Config tools)
  base-dir: MCUXpressoConfig
    cgen-file: MCUXpressoConfig/ConfigTools.cgen.yml
      context: Simple.Debug+MCXN947VDF
      context: Simple.Release+MCXN947VDF
</code></pre>
<ul>
<li>Using the above information to run the generator using this command:</li>
</ul>
<pre><code class="language-bash">csolution Simple.csolution.yml run --generator MCUXpressoConfig --context Simple.Debug+MCXN947VDF
</code></pre>
<p>It starts MCUXpresso and passes information about the selected board, device, and selected toolchain. For a project that selects a board, MCUXpresso imports the default configuration for the evaluation kit. In MCUXpresso, review and adjust configuration options as required for your application, then just click the button <code>Update Code</code>. The generated files will be stored in the directory <code>./MCUXpressoConfig</code>.</p>
<ul>
<li>Build the project using this command:</li>
</ul>
<pre><code class="language-bash">cbuild Simple.csolution.yml --update-rte
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You may run the MCUXpresso Config Tools at any time to change the configuration setting of your device or board.</p>
</div>
<p><strong>Directory with generated files</strong></p>
<p>MCUXpresso generates the following content in the generator output directory of the <em>csolution project</em>. In our example, the generator output directory is <code>./MCUXpressoConfig</code>.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Directory <code>./MCUXpressoConfig</code></th>
<th style="text-align: left;">Content</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>ConfigTools.cgen.yml</code></td>
<td style="text-align: left;">Import file, which adds the generated files to the <em>csolution project</em>.</td>
</tr>
<tr>
<td style="text-align: left;"><code>FRDM-MCXN947.mex</code></td>
<td style="text-align: left;">MCUXpresso Config Tools configuration file.</td>
</tr>
<tr>
<td style="text-align: left;"><code>board/clock_config.c</code></td>
<td style="text-align: left;">Clock setup using clock driver functions.</td>
</tr>
<tr>
<td style="text-align: left;"><code>board/clock_config.h</code></td>
<td style="text-align: left;">Clock configuration header file.</td>
</tr>
<tr>
<td style="text-align: left;"><code>board/peripherals.c</code></td>
<td style="text-align: left;">Board peripherals are set up via init functions.</td>
</tr>
<tr>
<td style="text-align: left;"><code>board/peripherals.h</code></td>
<td style="text-align: left;">Board peripherals setup header file.</td>
</tr>
<tr>
<td style="text-align: left;"><code>board/pin_mux.c</code></td>
<td style="text-align: left;">Board pin setup via init functions.</td>
</tr>
<tr>
<td style="text-align: left;"><code>board/pin_mux.h</code></td>
<td style="text-align: left;">Board pin setup header file.</td>
</tr>
</tbody>
</table>
<p><strong>Content of Generator Import File: <code>ConfigTools.cgen.yml</code></strong></p>
<p>The file <code>ConfigTools.cgen.yml</code> lists the files and settings that are generated by MCUXpresso and imported into the <em>csolution project</em>. You may add further <a href="../YML-Input-Format/#files">user files</a> here.</p>
<pre><code class="language-yml">generator-import:
  generated-by: 'MCUXpresso config tools Generated: 09/12/2024 17:02:22'
  for-device: MCXN947
  for-board: FRDM-MCXN947
  groups:
  - group: ConfigTools board
    files:
    - file: board/clock_config.c
    - file: board/clock_config.h
    - file: board/peripherals.c
    - file: board/peripherals.h
    - file: board/pin_mux.c
    - file: board/pin_mux.h
</code></pre>
<h2 id="linker-script">Linker Script</h2>
<p>Depending on the toolchain, NXP provides a linker script. For Arm Compiler 6, a scatter file with the ending <code>*.scf</code> is
provided, for GCC, a linker script file with the ending <code>*.ld</code> is provided and for IAR, the provided linker script files
end with <code>*.icf</code> extension.</p>
<h2 id="create-a-board-layer">Create a Board Layer</h2>
<p>A <a href="../build-overview/#software-layers">software layer</a> is a set of pre-configured software components and source files that can be reused in multiple projects. A board layer typically contains basic I/O drivers and related device and board configuration. MCUXpresso generates a significant part of a board layer.</p>
<p>The board layer is stored in a separate directory that is independent of a specific <em>csolution project</em>. To create a board layer, copy the related source files, the MCUXpresso generated files, and the configuration files of the <code>RTE directory</code> that relate to software components in the board layer.</p>
<p><strong>Example directory content of a NXP board layer</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Directory and Files</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>Board.clayer.yml</code></td>
<td style="text-align: left;">Defines the source files and software components of the board layer.</td>
</tr>
<tr>
<td style="text-align: left;"><code>MCUXpressoConfig/</code></td>
<td style="text-align: left;">Directory with MCUXpresso generated files.</td>
</tr>
<tr>
<td style="text-align: left;"><code>MCUXpressoConfig/Board.cgen.yml</code></td>
<td style="text-align: left;">Generator import file that lists MCUXpresso generated files and options.</td>
</tr>
</tbody>
</table>
<p>The <code>Board.clayer.yml</code> file defines, with the <code>generators:</code> node, options to locate the MCUXpresso generated files in the directory structure of the <a href="../build-overview/#software-layers">software layer</a>. As a board layer is used by many projects, the name of the generator import file should be explicitly specified, as shown below:</p>
<pre><code class="language-yml">generators:
    options:
    - generator: MCUXpressoConfig
      path: ./MCUXpressoConfig              # path relative to the `*.clayer.yml` file
      name: Board                           # generator import file is named `Board.cgen.yml`.
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../JLink-Debugger/" class="btn btn-neutral float-left" title="J-Link Debugger"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../CubeMX/" class="btn btn-neutral float-right" title="STM32CubeMX for STM32 Devices">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/Open-CMSIS-Pack/cmsis-toolbox" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../JLink-Debugger/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../CubeMX/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
